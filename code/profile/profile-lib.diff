diff --git a/profile-lib/raco.rkt b/profile-lib/raco.rkt
index e4cf48d..463338c 100644
--- a/profile-lib/raco.rkt
+++ b/profile-lib/raco.rkt
@@ -4,7 +4,7 @@
          raco/command-name
          errortrace/errortrace-lib
          "main.rkt" "raco-utils.rkt"
-         (prefix-in text: "render-text.rkt"))
+         (prefix-in json: "render-json.rkt"))
 
 ;; raco profile
 ;; profile the main submodule (if there is one), or the top-level module
@@ -74,23 +74,27 @@
                       #:repeat iterations
                       #:order order
                       #:threads threads?
+                      #:render json:render
                       #:use-errortrace? use-errortrace?)]
       [delay
         (profile-thunk t
                        #:delay delay
                        #:order order
                        #:threads threads?
+                       #:render json:render
                        #:use-errortrace? use-errortrace?)]
       [iterations
        (profile-thunk t
                       #:repeat iterations
                       #:order order
                       #:threads threads?
+                      #:render json:render
                       #:use-errortrace? use-errortrace?)]
       [else
        (profile-thunk t
                       #:order order
                       #:threads threads?
+                      #:render json:render
                       #:use-errortrace? use-errortrace?)])
 
 (module test racket/base) ; don't run for testing
diff --git a/profile-lib/render-json.rkt b/profile-lib/render-json.rkt
index 3cc1c86..6644ae3 100644
--- a/profile-lib/render-json.rkt
+++ b/profile-lib/render-json.rkt
@@ -1,8 +1,11 @@
 #lang racket/base
 
-(provide profile->json json->profile)
+(provide profile->json json->profile render)
 
-(require "structs.rkt" racket/dict racket/format racket/list racket/string)
+(require "structs.rkt" racket/dict racket/format racket/list racket/string racket/pretty)
+
+(define (render profile)
+  (pretty-write (profile->json profile)))
 
 (define (node-loc node)
   (cons (node-id node) (node-src node)))
